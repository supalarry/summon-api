app: summon-api
service: summon-api

provider:
    name: aws
    runtime: nodejs12.x
    region: eu-central-1
    environment: SLACK_SIGNING_SECRET=${env:SLACK_SIGNING_SECRET}

# functions
functions:
    slackEvents:
        handler: source/functions/slack/events.handler
        events: # The events that trigger this function
            - http:
                  path: api/slack/events
                  method: post
    serverHealthCheckGet:
        handler: source/functions/utils/server-health-check/serverHealthCheckGet.handler
        events: # The events that trigger this function
            - http:
                  path: api/ping
                  method: get
    serverHealthCheckPost:
        handler: source/functions/utils/server-health-check/serverHealthCheckPost.handler
        events: # The events that trigger this function
            - http:
                  path: api/ping
                  method: post

# Serverless plugins
plugins:
    - serverless-plugin-typescript
    - serverless-offline
    - serverless-dotenv-plugin

# Resources your functions use
resources:
